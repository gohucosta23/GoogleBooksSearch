{"ast":null,"code":"import _defineProperty from \"/Users/hugocosta/homework/googleBooksSearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/hugocosta/homework/googleBooksSearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/hugocosta/homework/googleBooksSearch/client/src/pages/Search/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport SearchContainer from \"./SearchContainer\";\nimport SearchForm from \"./SearchForm\";\nimport ResultsContainer from \"./ResultsContainer\";\nimport ResultsList from \"./ResultsList\";\nimport API from \"../../utils/API\";\nexport default function index() {\n  var _this = this;\n\n  var _useState = useState(\"harry potter\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      results = _useState4[0],\n      setResults = _useState4[1];\n\n  useEffect(function () {\n    searchBooks(search);\n  }, []);\n\n  function searchBooks(search) {\n    API.search(search).then(function (res) {\n      return setResults(res.data.items);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }\n\n  var handleInputChange = function handleInputChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setSearch(_defineProperty({}, name, value));\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n\n    if (search) {\n      API.search(search.search).then(function (res) {\n        setResults(res.data.items);\n        console.log(\"First\", results[0].volumeInfo);\n      }).then(console.log(\"Second\", results[0].volumeInfo)).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SearchContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SearchForm, {\n    handleInputChange: handleInputChange,\n    handleSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(ResultsContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, results.map(function (book) {\n    return /*#__PURE__*/React.createElement(ResultsList, {\n      key: book.id,\n      title: book.volumeInfo.title,\n      authors: book.volumeInfo.authors.toString(),\n      description: book.volumeInfo.description,\n      thumbnail: book.volumeInfo.imageLinks.thumbnail,\n      link: book.volumeInfo.infoLink,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    });\n  })));\n}","map":{"version":3,"sources":["/Users/hugocosta/homework/googleBooksSearch/client/src/pages/Search/index.js"],"names":["React","useState","useEffect","SearchContainer","SearchForm","ResultsContainer","ResultsList","API","index","search","setSearch","results","setResults","searchBooks","then","res","data","items","catch","err","console","log","handleInputChange","e","target","name","value","handleSubmit","preventDefault","volumeInfo","map","book","id","title","authors","toString","description","imageLinks","thumbnail","infoLink"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport SearchContainer from \"./SearchContainer\";\nimport SearchForm from \"./SearchForm\";\nimport ResultsContainer from \"./ResultsContainer\";\nimport ResultsList from \"./ResultsList\";\nimport API from \"../../utils/API\";\n\nexport default function index() {\n\n    const [search, setSearch] = useState(\"harry potter\");\n    const [results, setResults] = useState([]);\n\n    useEffect(() => {\n        searchBooks(search)\n    }, []);\n\n    function searchBooks(search) {\n        API.search(search)\n        .then(res => \n            setResults(res.data.items))\n            .catch(err => console.log(err));\n    }\n\n    const handleInputChange = (e) => {\n        const {name, value} = e.target;\n        setSearch({[name] : value})\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if(search) {\n            API.search(search.search)\n            .then(res => {\n                setResults(res.data.items)\n                console.log(\"First\" , results[0].volumeInfo)\n            }).then(console.log(\"Second\" ,results[0].volumeInfo))\n            .catch(err => console.log(err));\n        }\n    }\n\n    return (\n        <div>\n            <SearchContainer>\n                <SearchForm \n                handleInputChange = {handleInputChange}\n                handleSubmit = {handleSubmit}/>\n            </SearchContainer>\n            <ResultsContainer>\n                {results.map(book => (\n                    <ResultsList \n                    key = {book.id}\n                    title = {book.volumeInfo.title}\n                    authors = {book.volumeInfo.authors.toString()}\n                    description = {book.volumeInfo.description}\n                    thumbnail = {book.volumeInfo.imageLinks.thumbnail}\n                    link = {book.volumeInfo.infoLink}/>\n                ))}\n            </ResultsContainer>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}