{"ast":null,"code":"import _objectSpread from \"/Users/hugocosta/homework/googleBooksSearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _defineProperty from \"/Users/hugocosta/homework/googleBooksSearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/hugocosta/homework/googleBooksSearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/hugocosta/homework/googleBooksSearch/client/src/pages/Search/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport SearchContainer from \"./SearchContainer\";\nimport SearchForm from \"./SearchForm\";\nimport ResultsContainer from \"./ResultsContainer\";\nimport ResultsList from \"./ResultsList\";\nimport API from \"../../utils/API\";\nimport DatabaseAPI from \"../../utils/DatabaseAPI\";\nexport default function index() {\n  var _this = this;\n\n  var _useState = useState(\"harry potter\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      results = _useState4[0],\n      setResults = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      book = _useState6[0],\n      setBook = _useState6[1];\n\n  useEffect(function () {\n    searchBooks(search);\n  }, []);\n\n  function searchBooks(search) {\n    API.search(search).then(function (res) {\n      return setResults(res.data.items);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }\n\n  var handleInputChange = function handleInputChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setSearch(_defineProperty({}, name, value));\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n\n    if (search) {\n      API.search(search.search).then(function (res) {\n        setResults(res.data.items);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  };\n\n  var handleSave = function handleSave(e) {\n    var _e$target2 = e.target,\n        name = _e$target2.name,\n        value = _e$target2.value;\n    setBook(_objectSpread({}, book, _defineProperty({}, name, value)));\n    console.log(book); // DatabaseAPI.saveBook(book)\n    // .then(console.log(\"Book Saved\"))\n    // .catch(err => console.log(err));\n  };\n\n  console.log(book);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SearchContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SearchForm, {\n    handleInputChange: handleInputChange,\n    handleSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(ResultsContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, results.map(function (book) {\n    return /*#__PURE__*/React.createElement(ResultsList, {\n      key: book.id,\n      title: book.volumeInfo.title,\n      authors: book.volumeInfo.authors,\n      description: book.volumeInfo.description,\n      thumbnail: book.volumeInfo.imageLinks.thumbnail,\n      link: book.volumeInfo.infoLink,\n      handleSave: handleSave,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    });\n  })));\n}","map":{"version":3,"sources":["/Users/hugocosta/homework/googleBooksSearch/client/src/pages/Search/index.js"],"names":["React","useState","useEffect","SearchContainer","SearchForm","ResultsContainer","ResultsList","API","DatabaseAPI","index","search","setSearch","results","setResults","book","setBook","searchBooks","then","res","data","items","catch","err","console","log","handleInputChange","e","target","name","value","handleSubmit","preventDefault","handleSave","map","id","volumeInfo","title","authors","description","imageLinks","thumbnail","infoLink"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport SearchContainer from \"./SearchContainer\";\nimport SearchForm from \"./SearchForm\";\nimport ResultsContainer from \"./ResultsContainer\";\nimport ResultsList from \"./ResultsList\";\nimport API from \"../../utils/API\";\nimport DatabaseAPI from \"../../utils/DatabaseAPI\";\n\nexport default function index() {\n\n    const [search, setSearch] = useState(\"harry potter\");\n    const [results, setResults] = useState([]);\n    const [book, setBook] = useState({});\n\n    useEffect(() => {\n        searchBooks(search)\n    }, []);\n\n    function searchBooks(search) {\n        API.search(search)\n        .then(res => \n            setResults(res.data.items))\n            .catch(err => console.log(err));\n    }\n\n    const handleInputChange = (e) => {\n        const {name, value} = e.target;\n        setSearch({[name] : value})\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if(search) {\n            API.search(search.search)\n            .then(res => {\n                setResults(res.data.items)\n            })\n            .catch(err => console.log(err));\n        }\n    }\n\n    const handleSave = (e) => {\n\n        const {name, value} = e.target;\n        setBook({...book, [name] : value})\n        console.log(book)\n        // DatabaseAPI.saveBook(book)\n        // .then(console.log(\"Book Saved\"))\n        // .catch(err => console.log(err));\n\n    }\n    console.log(book)\n\n    return (\n        <div>\n            <SearchContainer>\n                <SearchForm \n                handleInputChange = {handleInputChange}\n                handleSubmit = {handleSubmit}/>\n            </SearchContainer>\n            <br></br>\n            <ResultsContainer>\n                {results.map(book => (\n                    <ResultsList \n                    key = {book.id}\n                    title = {book.volumeInfo.title}\n                    authors = {book.volumeInfo.authors}\n                    description = {book.volumeInfo.description}\n                    thumbnail = {book.volumeInfo.imageLinks.thumbnail}\n                    link = {book.volumeInfo.infoLink}\n                    handleSave = {handleSave}/>\n                ))}\n            </ResultsContainer>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}